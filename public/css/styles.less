// Using (less) in front of a CSS file tells LESS compiler to include contents of CSS.
// As a benefit, this will reduce the number of requests.
@import (less) "lib/animate.css";
@import (less) "lib/font-awesome.min.css";
@import "lib/bootstrap/bootstrap";
@import "themes/flatly";

// Scaffolding
// -------------------------

html, body {
  height: 100%;
}

body {
  padding-top: 70px;
}

#wrap {
  min-height: 100%;
  height: auto !important;
  height: 100%;
  /* Negative indent footer by its height */
  margin: 0 auto -75px;
  /* Pad bottom by footer height + (optional) extra spacing */
  padding: 0 0 120px;
}

#flash {
  margin: 0 auto; padding-right: @grid-gutter-width;
  position: fixed; z-index: 1000;

  @media (min-width: @screen-sm-min) {
    width: @container-sm;
  }
  @media (min-width: @screen-md-min) {
    width: @container-md;
  }
  @media (min-width: @screen-lg-min) {
    width: @container-lg;
  }

  .alert { margin-bottom: 0; }
}

.page-header { position: relative; }

// Footer
// -------------------------

#footer {
  height: 75px;
  padding-top: 15px;
}
#mobile-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  border-top: 1px solid #139C82;
  background-color: white;

  div {
    height: 100%;
  }

  .footer-tab {
    text-align: center;
    color: #a6bfbb;
    font-size: 12px;
    padding: 10px 0;

    &.active, &:active {
      color: #139C82;
      text-decoration: none;
    }

    i {
      position: relative;
      top: 5px;
      font-size: 20px;
      display: block;
      padding-bottom: 5px;
      margin-right: 0;
    }
  }
}

// Global Elements
// -------------------------

.delete-form { display: inline; }
.delete {
  font-size: 12px;
  line-height: 0.9;
  padding: 2px;
  width: 16px; height: 16px;
  position: absolute; top: 6px; right: 2px;
  border-radius: 50%;
}

.form-group.markdown {
  ul.nav.nav-tabs {
    padding-left: 15px;
  }

  #preview-tab-content {
    border: 2px solid #1abc9c;
    border-radius: 4px;
    padding: 15px;

    img {
      max-width: 100%;
      display: block;
    }
  }
}

.modal { font-size: @font-size-base; }
.modal .modal-footer button { margin: 0 0 0 10px; }

// Navbar
// -------------------------

@navbar-height: 45px;

.navbar-nav .profile-image {
  width: 30px;
  height: 30px;
  margin: -15px 15px -15px 0;
}
.navbar-inverse {
  border-bottom: 2px solid #139C82;
}
.navbar-inverse a {
  text-shadow: 1px 1px 0px rgba(3, 85, 69, 0.2);
}

.navbar-brand {
  line-height: 0.93em;
}

// Nav menus
// -------------------------

.nav-stacked li.active a,
.nav-stacked li.active a:hover {
  background: @brand-success;
  border: 1px solid @brand-success;
  border-radius: 3px;
  color: #fff;
}

// Sidebar
// -------------------------

.sidebar {
  margin-top: 42px;
}

// News & Issues Table
// -------------------------

#news, #issues, #user-comments {
  ul {
    padding: 0;
    list-style-type: none;

    li {
      padding: 3px 0;

      &.headers {
        border-bottom: 2px solid #ecf0f1;
        font-weight: bold;
      }

      &.news-item {
        border-bottom: 1px solid #ecf0f0;

        &:last-child {
          border-bottom: none;
        }

        a:visited {
          color: #a6bfbb;
        }

        a.show-summary {
          color: #bdcfcc;

          &:visited {
            color: #bdcfcc;
          }
        }

        .summary {
          color: rgba(0, 0, 0, 0.65);
        }

        .parent {
          .comments {
            margin: 0 0 0 5px;
          }
        }

        .delete {
          margin: 0 5px 0 0;
        }

        .upvote-form {
          display: inline-block;
          position: relative;
          left: 50%;
          margin-left: -15px;

          .upvote {
            border: none;
            background: none;
            &:hover {
              color: #18bc9c;
            }
          }
        }
      }
    }
    @media (max-width: 767px) {
      li.news-item {
        position: relative;
        padding: 0;
        min-height: 6em;

        .title {
          small {
            padding-right: 7%;
          }
        }

        .vote-count-wrapper {
          position: absolute;
          left: 0;
          top: 50%;
          height: 50%;
          background: #ccc;
          text-align: center;

          .vote-count {
            position: relative;
            top: 10px;
          }
        }

        .poster {
          float: right;
        }


        .comment-count {
          small {
            padding-right: 3px;
            color: #18bc9c;
          }
          i {
            color: #18bc9c;
          }
        }

        .upvote-wrapper {
          position: absolute;
          left: 0;
          height: 50%;
          background: #ccc;

          .upvote-form {
            position: absolute;
            margin-left: -6px;
            bottom: 10px;

            button {
              padding: 0;

              .fa {
                margin-right: 0;
              }
            }
          }
        }
      }
    }
  }
}

/*
  Re-applies default ul styling for comments on the /news/user/:id pages.

  Not sure if this would be better in the large block above or not.  This is
  the only place it seems to be causing any issues at all, so I'm hesitant to
  over-apply it.
*/
#user-comments .content ul {
  padding-left: 40px;
  list-style-type: disc;
}

// News Item
// -------------------------

.news-item .row {
  margin: 0 0 10px;
}

.news-item .comment .timeago {
  margin: 0 5px;
}

.news-item .item-summary {
  font-size: 15px;
  line-height: 1.4em;
}

.comment .delete-form {
  display: inline;
}

.comment .delete {
  font-size: 12px;
  line-height: 0.9;
  padding: 2px;
  width: 16px; height: 16px;
  position: absolute; top: 6px; right: 2px;
  border-radius: 50%;
}

.comment .content {
  background-color: #f6f7f8;
  position: relative;

  img:not(.emoji) {
    display: block;
  }
}

#comments blockquote { margin-bottom: 0; }

// User Profile
// -------------------------

.user-profile {
  @height: @line-height-computed * 3;

  h1 {
    margin: 0;
    line-height: @height;

    img {
      width:  @height;
      height: @height;
      margin-right: 5px;
      border-radius: 5px;
    }
  }

  dl {
    dt {
      float: left;
      margin-right: 5px;
    }
    dd { display: inline; }
  }
}
.user-profile + .page-header {
  padding-bottom: 0;
}

// Social Buttons
// -------------------------

.btn-facebook {
  color: #fff;
  background: #3b5998;
  border: 1px solid rgba(0, 0, 0, 0.07);

  &:hover {
    color: #fff;
  }
}

.btn-twitter {
  color: #fff;
  background: #00aced;
  border: 1px solid rgba(0, 0, 0, 0.07);

  &:hover {
    color: #fff;
  }
}

.btn-google-plus {
  color: #fff;
  background: #dd4b39;
  border: 1px solid rgba(0, 0, 0, 0.07);

  &:hover {
    color: #fff;
  }
}

.btn-github {
  color: #fff;
  background: #333;
  border: 1px solid rgba(0, 0, 0, 0.07);

  &:hover {
    color: #fff;
  }
}

// Miscellaneous
// -------------------------

// text-shadows on info buttons to make the text a little easier to read
.btn-info {
  text-shadow: 1px 1px 0px #2D81B9;
}

// Override color: inherit to make the close button actually visible
.alert-dismissable .close {
  color: #000;
}

// Extra space between font-awesome icons and text
[class^="fa-"],
[class*="fa-"] {
  margin-right: 5px;
}

// Extra space between FAQ descriptions
.faq dd {
  margin-bottom: 1em;
}
